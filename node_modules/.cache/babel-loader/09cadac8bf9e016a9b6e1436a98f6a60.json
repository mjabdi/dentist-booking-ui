{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mohammad/MyProjects/dentist-booking-ui/src/ResultsForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport GlobalState from './GlobalState';\nimport doneImage from './images/ok.png';\nimport errorImage from './images/error.png';\nimport * as dateformat from 'dateformat';\nimport Alert from '@material-ui/lab/Alert';\nimport Fade from \"react-reveal/Fade\";\nconst useStyles = makeStyles(theme => ({\n  bold: {\n    fontWeight: \"800\",\n    padding: \"5px\",\n    color: theme.palette.secondary.main\n  },\n  doneImage: {\n    width: \"205px\",\n    height: \"207px\",\n    margin: \"20px\"\n  },\n  errorImage: {\n    width: \"200px\",\n    height: \"190px\",\n    margin: \"20px\"\n  },\n  thankText: {\n    color: theme.palette.primary.main\n  },\n  error: {\n    color: theme.palette.secondary.main\n  }\n}));\nexport default function ResultsForm() {\n  _s();\n\n  const [state, setState] = React.useContext(GlobalState);\n  const classes = useStyles();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const AllError = results => {\n    for (var i = 0; i < results.length; i++) {\n      if (results[i].data.status === 'OK') {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [state.finalResults.length === 1 && state.finalResults[0].data.status === `OK` && /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Fade, {\n        down: true,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.doneImage,\n          src: doneImage,\n          alt: \"Done image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          className: classes.thankText,\n          children: \"Thank you for your Booking.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: [\"Your booking number is\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.bold,\n            children: `\"${state.bookingRef}\"`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), \" . We have emailed your booking information, and will look forward to meet you at the clinic.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }, this), state.finalResults.length === 1 && state.finalResults[0].data.status === `FAILED` && /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.errorImage,\n        src: errorImage,\n        alt: \"Error image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        className: classes.error,\n        children: \"Sorry, There is a Problem with your Booking.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this), state.finalResults[0].data.error === \"FullTime\" && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        children: \"Please check your system time, make sure your timezone is set to Europe/London.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }, this), state.finalResults[0].data.error !== \"FullTime\" && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        children: [\"You have already booked for\", \" \", `'${dateformat(state.bookingDate, \"dddd, mmmm dS, yyyy\")}'`, \". Every person can only book for one appointment per day. If you want to change your appointment time please follow the link we have emailed you before.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }, this), state.finalResults.length > 1 && /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [AllError(state.finalResults) && /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.errorImage,\n          src: errorImage,\n          alt: \"Error image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: \"Sorry, There is a Problem with your Booking.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this), state.finalResults[0].data.error === \"FullTime\" && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: \"Please check your system time, make sure your timezone is set to Europe/London.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }, this), state.finalResults[0].data.error !== \"FullTime\" && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: [\"You have already booked for\", \" \", `'${dateformat(state.bookingDate, \"dddd, mmmm dS, yyyy\")}'`, \". Every person can only book for one appointment per day. If you want to change your appointment time please follow the link we have emailed you before.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), !AllError(state.finalResults) && /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.doneImage,\n          src: doneImage,\n          alt: \"Done image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          children: \"Thank you for your Booking.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: [\"Your booking number is\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.bold,\n            children: `\"${state.bookingRef}\"`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this), \" . We have emailed your booking information, and will look forward to meet you at the clinic.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this), state.finalResults.map(item => /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [item.data.status === \"OK\" && /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: \"5px\",\n              marginBottom: \"5px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"success\",\n              children: `${item.data.person.forename} ${item.data.person.surname} - Successfully Booked!`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }, this), item.data.status === \"FAILED\" && /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: \"5px\",\n              marginBottom: \"5px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"error\",\n              children: `${item.data.person.forename} ${item.data.person.surname} - Booking Failed! ( has already booked for that day!)`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ResultsForm, \"/aVnxUIMWALihDeIZkXdTZtERYU=\", false, function () {\n  return [useStyles];\n});\n\n_c = ResultsForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResultsForm\");","map":{"version":3,"sources":["/Users/mohammad/MyProjects/dentist-booking-ui/src/ResultsForm.js"],"names":["React","useEffect","makeStyles","useTheme","Typography","GlobalState","doneImage","errorImage","dateformat","Alert","Fade","useStyles","theme","bold","fontWeight","padding","color","palette","secondary","main","width","height","margin","thankText","primary","error","ResultsForm","state","setState","useContext","classes","window","scrollTo","AllError","results","i","length","data","status","finalResults","bookingRef","bookingDate","map","item","marginTop","marginBottom","person","forename","surname"],"mappings":"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","sourcesContent":["\n\nimport React, { useEffect } from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport GlobalState from './GlobalState';\nimport doneImage from './images/ok.png';\nimport errorImage from './images/error.png';\nimport * as dateformat from 'dateformat';\nimport Alert from '@material-ui/lab/Alert';\n\nimport Fade from \"react-reveal/Fade\";\n\n\nconst useStyles = makeStyles((theme) => ({\n\n    bold: {\n        fontWeight: \"800\",\n        padding: \"5px\",\n        color: theme.palette.secondary.main\n      },\n\n      doneImage: {\n        width: \"205px\",\n        height: \"207px\",\n        margin: \"20px\"\n      },\n\n      errorImage: {\n        width: \"200px\",\n        height: \"190px\",\n        margin: \"20px\"\n      },\n      thankText:{\n        color: theme.palette.primary.main\n      },\n\n      error:{\n        color: theme.palette.secondary.main\n      }\n    \n\n\n}));\n\n\nexport default function ResultsForm() {\n  const [state, setState] = React.useContext(GlobalState);\n  const classes = useStyles();\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, []);\n\n  const AllError = (results) =>\n  {\n      for (var i=0 ; i < results.length; i++)\n      {\n          if (results[i].data.status === 'OK')\n          {\n              return false;\n          }\n      }\n      return true;\n  }\n\n  return (\n    <React.Fragment>\n      {state.finalResults.length === 1 &&\n        state.finalResults[0].data.status === `OK` && (\n          <React.Fragment>\n\n          <Fade down>\n\n            <img\n              className={classes.doneImage}\n              src={doneImage}\n              alt=\"Done image\"\n            />\n\n            <Typography variant=\"h5\" gutterBottom className={classes.thankText}>\n              Thank you for your Booking.\n            </Typography>\n            <br />\n            <Typography variant=\"subtitle1\">\n              Your booking number is{\" \"}\n              <span className={classes.bold}>{`\"${state.bookingRef}\"`}</span> . We have\n              emailed your booking information, and will look forward to meet\n              you at the clinic.\n            </Typography>\n\n            </Fade>\n          </React.Fragment>\n        )}\n\n      {state.finalResults.length === 1 &&\n        state.finalResults[0].data.status === `FAILED` && (\n          <React.Fragment>\n            <img\n              className={classes.errorImage}\n              src={errorImage}\n              alt=\"Error image\"\n            />\n\n            <Typography variant=\"h5\" gutterBottom className={classes.error}>\n              Sorry, There is a Problem with your Booking.\n            </Typography>\n            <br />\n\n            {state.finalResults[0].data.error === \"FullTime\" && (\n              <Typography variant=\"subtitle1\">\n                Please check your system time, make sure your timezone is set to\n                Europe/London.\n              </Typography>\n            )}\n\n            {state.finalResults[0].data.error !== \"FullTime\" && (\n              <Typography variant=\"subtitle1\">\n                You have already booked for{\" \"}\n                {`'${dateformat(state.bookingDate, \"dddd, mmmm dS, yyyy\")}'`}.\n                Every person can only book for one appointment per day. If you\n                want to change your appointment time please follow the link we\n                have emailed you before.\n              </Typography>\n            )}\n          </React.Fragment>\n        )}\n\n      {state.finalResults.length > 1 && (\n        <React.Fragment>\n          {AllError(state.finalResults) && (\n            <React.Fragment>\n              <img\n                className={classes.errorImage}\n                src={errorImage}\n                alt=\"Error image\"\n              />\n\n              <Typography variant=\"h5\" gutterBottom>\n                Sorry, There is a Problem with your Booking.\n              </Typography>\n              <br />\n\n              {state.finalResults[0].data.error === \"FullTime\" && (\n                <Typography variant=\"subtitle1\">\n                  Please check your system time, make sure your timezone is set\n                  to Europe/London.\n                </Typography>\n              )}\n\n              {state.finalResults[0].data.error !== \"FullTime\" && (\n                <Typography variant=\"subtitle1\">\n                  You have already booked for{\" \"}\n                  {`'${dateformat(state.bookingDate, \"dddd, mmmm dS, yyyy\")}'`}.\n                  Every person can only book for one appointment per day. If you\n                  want to change your appointment time please follow the link we\n                  have emailed you before.\n                </Typography>\n              )}\n\n              \n            </React.Fragment>\n          )}\n\n          {!AllError(state.finalResults) && (\n            <React.Fragment>\n              <img\n                className={classes.doneImage}\n                src={doneImage}\n                alt=\"Done image\"\n              />\n\n              <Typography variant=\"h5\" gutterBottom>\n                Thank you for your Booking.\n              </Typography>\n              <br />\n              <Typography variant=\"subtitle1\">\n                Your booking number is{\" \"}\n                <span className={classes.bold}>{`\"${state.bookingRef}\"`}</span> . We\n                have emailed your booking information, and will look forward to\n                meet you at the clinic.\n              </Typography>\n            </React.Fragment>\n          )}\n\n          {state.finalResults.map((item) => (\n            <React.Fragment>\n              {item.data.status === \"OK\" && (\n                <React.Fragment>\n                  <div style={{ marginTop: \"5px\", marginBottom: \"5px\" }}>\n                    <Alert severity=\"success\">\n                      {`${item.data.person.forename} ${item.data.person.surname} - Successfully Booked!`}\n                    </Alert>\n                  </div>\n                </React.Fragment>\n              )}\n\n              {item.data.status === \"FAILED\" && (\n                <React.Fragment>\n                  <div style={{ marginTop: \"5px\", marginBottom: \"5px\" }}>\n                    <Alert severity=\"error\">\n                      {`${item.data.person.forename} ${item.data.person.surname} - Booking Failed! ( has already booked for that day!)`}\n                    </Alert>\n                  </div>\n                </React.Fragment>\n              )}\n            </React.Fragment>\n          ))}\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n}"]},"metadata":{},"sourceType":"module"}